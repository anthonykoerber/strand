<!DOCTYPE html>
<html>
<head>
	<script language="javascript" src="../../bower_components/webcomponentsjs/webcomponents-lite.js"></script>
	<link rel="import" href="strand-grid.html">
	<style type="text/css">
		html, body {
			padding: 0;
			margin: 0;
			background: #eee;
			width: 100%;
			height: 100%;
			min-height: 100%;
		}

		*[unresolved] {
			display: none;
		}


		.container {
			margin: 25px;
		}

		strand-grid {
			margin-bottom: 50px;
		}

		strand-grid[unresolved] {
			display: none;
		}
	</style>
</head>
<body>
	<div class="container">

		<!-- A default grid item example -->
		<strand-grid id="testGrid1" selectable style="width: 100%; height: 300px;">
			<strand-grid-column field="first_name">First Name</strand-grid-column>
			<strand-grid-column field="last_name">Last Name</strand-grid-column>
			<strand-grid-column field="email">Email</strand-grid-column>
		</strand-grid>


		<!-- A custom grid item example -->
		<strand-grid id="testGrid2" selectable expandable style="width: 100%; height: 300px;">
			<strand-grid-column width="20%" field="name" sort resize>Name</strand-grid-column>
			<strand-grid-column width="20%" field="id" sort resize>Id</strand-grid-column>
			<strand-grid-column width="20%" field="advertiser" sort resize>Advertiser</strand-grid-column>
			<strand-grid-column width="20%" field="concept" sort resize>Concept</strand-grid-column>
			<strand-grid-column width="10%" field="type" resize>Type</strand-grid-column>
			<strand-grid-column width="10%" field="info"></strand-grid-column>
			<template preserve-content>
				<strand-grid-item model="{{model}}" scope="{{scope}}">
					<div field="name">
						Creative - <span>{{model.name}}</span>
					</div>
					<div field="info">
						<strand-icon type="info" id="infoIcon" width="12" height="12"></strand-icon>
						<strand-tooltip 
							id="infoTip"
							model="{{model}}" 
							target="{{findById('infoIcon')}}">
								<label>{{model.tip}}</label>
							</strand-tooltip>
					</div>
					<div class="expansion">
						<div class="expansion-row">
							<div class="expansion-col">
								<h4>Expanded Content</h4>
								<span>{{model.name}}</span>
							</div>
							<div class="expansion-col">
								<h4>Expanded Advertiser</h4>
								<span>{{model.advertiser}}</span>
							</div>
							<div class="expansion-col">
								<h4>Expanded Concept</h4>
								<span>{{model.concept}}</span>
							</div>
						</div>
						<div class="expansion-row">
							<div class="expansion-col">Expanded Content - <span>{{model.concept}}</span></div>
						</div>
					</div>
				</strand-grid-item>
			</template>
		</strand-grid>

	</div>

	<script type="text/javascript">
		
		var grid1Data, grid2Data, grid1, grid2;

		
		var grid1DataItem = {
			first_name: 'First',
			last_name: 'Last',
			email: 'text@example.com',
			selected: false
		};

		var grid2DataItem = {
			id: '',
			name: 'Name',
			content: 'Content',
			advertiser: 'Advertiser No.',
			concept: 'Concept No.',
			type: 'swf',
			file: 'Creative_File_.swf',
			tip: 'Some special info here',
			selected: false,
			expanded: false
		};

		function generateItems(numItems, itemModel, splice) {
			var items = [];
			var spliceStr = splice ? 'splice ' : '';

			for(var i=0; i<numItems; i++) {
				var item = {};
				for(prop in itemModel) {
					item[prop] = typeof itemModel[prop] !== 'boolean' ? 
					String(itemModel[prop] + ' ' + spliceStr + i) : itemModel[prop];
				}
				items.push(item);
			}

			return items;
		}

		function addMoreData(grid, startIndex, numItems, itemModel) {
			var moreData = ['data', startIndex];
			var concat = moreData.concat(generateItems(numItems, itemModel, true));

			grid.splice.apply(grid, concat);
		}

		window.addEventListener('WebComponentsReady', function() {
			grid1 = document.querySelector('#testGrid1');
			grid2 = document.querySelector('#testGrid2');

			grid1Data = generateItems(33, grid1DataItem);
			grid2Data = generateItems(33, grid2DataItem);

			grid1.set('data', grid1Data);
			grid2.set('data', grid2Data);
		});

	</script>
</body>
</html>
